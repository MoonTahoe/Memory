!function(a){var b=function(a,b){this.faceUp=!1,this.FaceValue=a,this.cardElement=b};b.prototype.flip=function(){this.faceUp?(this.cardElement.removeAttribute("class"),this.cardElement.innerHTML=""):(this.cardElement.setAttribute("class","selected"),this.cardElement.innerHTML="<span>"+this.FaceValue+"</span>"),this.faceUp=!this.faceUp},b.prototype.discard=function(){this.cardElement.parentNode.removeChild(this.cardElement)},a.Card=b}(window);var Deck=function(){this.GameCards=[]};Deck.prototype.getCount=function(){return this.GameCards.length},Deck.prototype.shuffle=function(){for(var a=[],b=function(){var b=Math.floor(Math.random()*a.length),c=a[b];return a.splice(b,1),c},c=this.GameCards.length,d=0;c>d;d++)a.push(this.GameCards.pop());for(d=0;c>d;d++)this.GameCards.push(b())},Deck.prototype.deal=function(){return this.GameCards.splice(0,1)},function(a){function b(){this.subscribers={}}b.prototype.on=function(a,b){this.subscribers[a]||(this.subscribers[a]=[]),this.subscribers[a].push(b)},b.prototype.emit=function(a){var b=arguments;this.subscribers[a]&&this.subscribers[a].forEach(function(a){b.length>1?a(b[1],b[2],b[3]):a()})},b.prototype.remove=function(a){this.subscribers[a]=void 0},a.EventCaller=b}(window),function(a){function b(a,b){this.table=a,this.deck=new Deck,this.MemoryItems=["!","@","#","$","%","&","*","+","=","?"],this.FaceUpCards=[],this.debug=b||!1,this.showTime=b?0:1500;for(var c=0;c<this.MemoryItems.length;c++)this.deck.GameCards.push(new Card(this.MemoryItems[c],document.createElement("div"))),this.deck.GameCards.push(new Card(this.MemoryItems[c],document.createElement("div")));Object.defineProperty(this,"gameCards",{get:function(){return this.deck.GameCards}})}function c(a,b){2===a.length&&(a[0].FaceValue===a[1].FaceValue?(b.emit("match",a[1].FaceValue),setTimeout(function(){a[0].discard(),a[1].discard(),a.pop(),a.pop(),b.table.children.length||b.emit("end")},b.showTime)):setTimeout(function(){a[0].flip(),a[1].flip(),a.pop(),a.pop()},b.showTime))}b.prototype=new EventCaller,b.prototype.deal=function(a){var b=this;this.gameCards.forEach(function(a){a.faceUp&&a.flip()}),this.debug||this.deck.shuffle(),this.gameCards.forEach(function(a){a.cardElement.onclick=function(){b.FaceUpCards.length<2&&a!==b.FaceUpCards[0]&&(a.flip(),b.FaceUpCards.push(a),c(b.FaceUpCards,b))},b.table.appendChild(a.cardElement)}),this.emit("deal",this.table,this.debug),a&&a(this.table)},a.MemoryGame=b}(window),function(a){function b(a,b){if(!a)throw new Error("Messenger constructor requires a DOM element as an argument.");if(!(a instanceof HTMLElement))throw new Error("Messenger DOM element argument not a HTMLElement.");if(b&&"string"!=typeof b)throw new Error("Messenger Message not a string.")}function c(a,c){this.el=a,this.message="",b(a,c),c&&(this.el.innerHTML=c,this.message=c)}c.prototype.update=function(a){this.message=a,this.el.innerHTML=a},a.Messenger=c}(window),function(a){function b(a){this.interval=null,this.intervalTime=a||100,this.time=/webkit/.test(window.navigator.userAgent.toLowerCase())?this.intervalTime:0,this.ticks=0}b.prototype.start=function(){var a=this;this.interval=setInterval(function(){a.time+=a.intervalTime},this.intervalTime)},b.prototype.stop=function(){clearInterval(this.interval)},b.prototype.reset=function(){this.stop(),this.time=0},a.Timer=b}(window);